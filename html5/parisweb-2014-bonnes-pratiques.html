<!DOCTYPE HTML>
<!-- <html lang="en-US"> -->
<html lang="en-US" class="fade">
<!--
  ^ a class of "fade" makes slides fade smoothly into one another
 -->
<!-- <html lang="en-US" class="nonumbers"> -->
<!--
  If you want no numbers on the slides add a "nonumbers" class
  to the HTML element.
  Adding a class of "fade" will make slides fade into another.
-->
<head>
  <meta charset="UTF-8">
  <title>Code de qualité: appliquer des bonnes pratiques dans le développement logiciel</title>
<!--
  If you upload your slides to the web, ensure that you have
  a good title - this shows up in search results and social
  media links
 -->
  <meta name="viewport" content="width=device-width, user-scalable=yes">
  <link rel="stylesheet" href="themes/mozilla/styles/style.css">
</head>
<body class="list">
  <header class="caption">
    <h1>Code de qualité: appliquer des bonnes pratiques dans le développement logiciel</h1>
    <p class="footer">
      Anthony Ricaud,
      <a href="http://twitter.com/rik24d">@rik24d</a> ou
      <a href="mailto:anthony@ricaud.me">anthony@ricaud.me</a>
    </p>
    <p class="footer">
      Julien Wajsberg,
      <a href="http://twitter.com/jwajsberg">@jwajsberg</a> ou
      <a href="mailto:julien@mozilla.com">julien@mozilla.com</a>
    </p>
  </header>
  <aside class="talkdescription">
    <p>Cette présentation utilise le système <em>shower</em>; vous pouvez voir
    les notes en passant la souris sur les prévisualisations des pages, et vous
    pouvez entrer dans le mode de présentation en cliquant sur n'importe quelle
    page. Vous pouvez ensuite utilisez le clavier pour naviguer. <button
    onclick="goFullScreen()">Passer en mode plein écran</button></p>
    <p class="abstract">
      <strong>Résumé&nbsp;: </strong>
    </p>
  </aside>

<!--
    Simply copy the whole block for each slide you want.
  Special slides get extra classes. Each slide needs an ID
  to allow for bookmarking and target jumping.
-->

  <div id="cover" class="slide"><div>
    <section>
      <header>
        <h2>Code de qualité: appliquer des bonnes pratiques dans le développement logiciel</h2>
      </header>
      <img src="pictures/parisweb-conf/anthony-et-julien.jpg"
           class="middle shadow" height="300"
           alt="Anthony et Julien">
      <small class="byline">
        Anthony Ricaud (<a href="http://twitter.com/rik24d">@rik24d</a>) &amp; Julien Wajsberg (<a href="http://twitter.com/jwajsberg">@jwajsberg</a>)<br>
        Paris-Web, Le Beffroi, 17 octobre 2014
      </small>
      <footer class="notes">
      </footer>
    </section>
  </div></div>

<!-- end slide block -->

<div id="mozilla" class="slide"><div>
<section>
  <header>
  <h2>Mozilla a une mission</h2>
  </header>
  <img src="themes/mozilla/images/Fx-logo.png" class="middle" width="400" alt="Firefox">
  <footer class="notes">
    <ul>
      <li>Conserver le web ouvert et accessible.</li>
      <li>Internet doit améliorer la vie des personnes.</li>
      <li>La sécurité est fondamentale et non pas une option.</li>
      <li>Chacun doit pouvoir former ses propres expériences sur Internet.</li>
    </ul>
  </footer>
</section>
</div></div>

<div id="firefox-os" class="slide"><div>
<section>
  <header>
  <h2>Firefox OS&nbsp;: un OS mobile libre pour le web</h2>
  </header>
  <img src="pictures/fxos/firefoxos.png"
       alt="Firefox OS"
       class="middle" height="450">
  <footer class="notes">
    <ul>
      <li>Les applications sont faites avec le tryptique HTML/CSS/JavaScript</li>
      <li>Développement libre, mais surtout ouvert (code ouvert en permanence,
      listes de diffusion, tracker de bug)</li>
      <li>Cible les mobiles d'entrée de gamme dès le début, avec un focus sur la
      simplicité pour des nouveaux utilisateurs de smartphones.</li>
    </ul>
  </footer>
</section>
</div></div>

<div id="pourquoi" class="slide oneline"><div>
<section>
  <header>
  <h2>Pourquoi ?</h2>
  </header>

  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="pourquoi-1" class="slide"><div>
<section>
  <header>
  <h2>Pourquoi ?</h2>
  </header>

  <ul class='inner'>
    <li class='active'>Qualité et maintenabilité</li>
    <li>Réutilisation et trousse à outils</li>
    <li>Techniques éprouvées du monde open source</li>
  </ul>
  <footer class="notes">
    Lors d'un rush, il est rassurant d'avoir une trousse à outils prête à
    l'emploi, qui fonctionne.
  </footer>
</section>
</div></div>

<div id="versions" class="slide oneline"><div>
<section>
  <header>
  <h2>Versions et tickets</h2>
  </header>

  <footer class="notes">
    Les deux outils que sont la gestion de versions et le gestionnaire de
    tickets vont souvent ensemble.
  </footer>
</section>
</div></div>

<div id="versions-1" class="slide"><div>
<section>
  <header>
  <h2>Un gestionnaire de tickets</h2>
  </header>

  <ul class='inner'>
    <li class='active'>Libérer l'esprit</li>
    <li>Partager les tâches</li>
    <li>Documenter l'historique</li>
  </ul>

  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="versions-2" class="slide"><div>
<section>
  <header>
  <h2>Quelques règles importantes</h2>
  </header>

  <ul class='inner'>
    <li class='active'>1 ticket = 1 tâche&nbsp;: correction de bug ou nouvelle fonction</li>
    <li>Votre message de commit est important, il doit avoir la référence vers le
      bug&nbsp;:<br/>
    <code style='font-size: 1rem'>Bug 1082064 - [Messages] Prevent double DOMContentLoaded events
      r=schung</code></li>
    <li>Ces règles permettent de travailler à plusieurs.</li>
  </ul>

  <footer class="notes">
    <p>
    Avec le blame on peut remonter jusqu'aux discussions qui ont abouti à une
    certaine ligne de code.
    </p>
    <p>
    Le couple bugtracker/gestionnaire de versions permet le travail à plusieurs&nbsp;:
    pouvoir se passer de quelqu'un lorsqu'il est en vacances ou quitte le
    projet.
    </p>
  </footer>
</section>
</div></div>

<div id="versions-3" class="slide"><div>
<section>
  <header>
  <h2>quelques bugtrackers</h2>
  </header>
  <ul class='inline'>
    <li><a href="http://www.redmine.org/">redmine</a></li>
    <li><a href='http://trac.edgewall.org/'>trac</a></li>
    <li><a href='http://www.bugzilla.org/'>bugzilla</a></li>
    <li><a href='https://www.mantisbt.org/'>mantis</a></li>
    <li><a href='https://www.atlassian.com/fr/software/jira'>JIRA</a></li>
    <li><a href='https://about.gitlab.com/'>gitlab</a></li>
    <li><a href='http://phabricator.org/'>phabricator</a></li>
    <li><a href='https://github.com/'>github</a> et autres projets hébergés</li>
  </ul>
  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="review" class="slide oneline"><div>
<section>
  <header>
  <h2>Revue de code</h2>
  </header>

  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="review-1" class="slide"><div>
<section>
  <header>
  <h2>Revue de code</h2>
  </header>
  <ul class='inner'>
    <li class='active'>Diffuser les connaissances</li>
    <li>Limiter le <em>bus factor</em></li>
    <li>Augmenter la cohérence de la base de code</li>
    <li>Un premier filtre pour des bugs</li>
  </ul>

  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="review-2" class="slide"><div>
<section>
  <header>
  <h2>Quelques règles</h2>
  </header>
  <ul class='inner'>
    <li class='active'>Le reviewer est responsable du code committé.</li>
    <li>Ce n'est pas un <span style='text-decoration: line-through'>linter</span></li>
  </ul>
  <footer class="notes">
    Un reviewer doit apporter de la valeur ajoutée en tant qu'humain. La
    position des accolades peut être vérifiée par un outil.
  </footer>
</section>
</div></div>

<div id="review-3" class="slide"><div>
<section>
  <header>
  <h2>Les outils de revue de code</h2>
  </header>
  <ul class='inline'>
    <li><a href='https://github.com/'>github</a>/<a href='https://bitbucket.org/'>bitbucket</a> et les pull requests</li>
    <li><a href='https://www.reviewboard.org/'>reviewboard</a></li>
    <li><a href='https://code.google.com/p/gerrit/'>gerrit</a></li>
    <li><a href='http://phabricator.org/'>phabricator</a></li>
    <li><a href='https://about.gitlab.com/'>gitlab</a></li>
    <li><em>pair programming</em></li>
  </ul>
  <footer class="notes">
    Le pair programming est finalement une forme de revue de code… et ça peut
    être mis en place dès maintenant&nbsp;!
  </footer>
</section>
</div></div>

<div id="review-5" class="slide"><div>
<section>
  <header>
  <h2>Voir la conférence suivante d'Agnès&nbsp;!</h2>
  </header>
  <img class='middle' alt='Agnès Haasser' src='pictures/parisweb-conf/agnes.jpeg' />

  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="linter" class="slide oneline"><div>
<section>
  <header>
  <h2>Vérificateurs de code</h2>
  </header>

  <footer class="notes">
  </footer>
</section>
</div></div>
<div id="linter-1" class="slide"><div>
<section>
  <header>
  <h2>But d'un linter</h2>
  </header>
  <ul class='inner'>
    <li class='active'>Permet de vérifier automatiquement des critères parfois arbitraires</li>
    <li>Faire des choix arbitraires une bonne fois pour toutes, et s'y tenir</li>
    <li>Pas de bikeshed, donc gain de temps</li>
  </ul>

  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="linter-2" class="slide"><div>
<section>
  <header>
  <h2>types de vérifications</h2>
  </header>
  <ul class='inner'>
    <li class='active'>On réintroduit un peu de rigueur dans des langages
      dynamiques</li>
    <li>Globales, écrasement, fonction dans une boucle, this, bugs potentiels, =, ==</li>
    <li>On trouve des linters pour chaque language&nbsp;: csslint, jshint, eslint,
      jscs, php-cs…</li>
  </ul>
  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="linter-3" class="slide"><div>
<section>
  <header>
  <h2>et sur un projet existant ?</h2>
  </header>
   <ul class='inner'>
     <li class='active'>Certains linters viennent avec un outil de correction
       automatique. Pas toujours joli mais efficace</li>
     <li>On peut mettre en place une "fail list": on prend une photo de l'état
       existant, puis on avance pour l'améliorer.</li>
     <li>On peut mettre en place un <em>commit hook</em>: à chaque commit, on
       vérifie si le changement n'introduit pas de problèmes.</li>
   </ul>
  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="linter-4" class="slide cover w"><div>
<section>
  <header>
  <h2></h2>
  </header>
  <img src='pictures/parisweb-conf/jshint-output.png' class='middle'
  alt='Résultat du hook de commit'/>
  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="unit" class="slide oneline"><div>
<section>
  <header>
  <h2>Tests unitaires</h2>
  </header>

  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="unit-1" class="slide"><div>
<section>
  <header>
  <h2>Principe</h2>
  </header>
  <ul class='inner'>
    <li class='active'>On isole une unité de code (souvent un fichier) et on le
      teste indépendamment des autres composants.</li>
    <li>Permet de tester tout votre code sans effets de bord</li>
  </ul>
  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="unit-2" class="slide"><div>
<section>
  <header>
  <h2>Quelques intérêts</h2>
  </header>
  <ul class='inner'>
    <li class='active'>Un bug n'est corrigé qu'une fois. On est assuré qu'il ne
    reviendra pas dans la même forme.</li>
    <li>Donne confiance pour faire des modifications</li>
    <li>Écrire un test oblige à utiliser le code proprement dit. On fait donc
      une revue de l'API développée, voire on crée l'API en rédigeant les tests.</li>
    <li>Est-ce que l'unité testée a l'air unitaire, ou bien regroupe-t-elle
      plusieurs responsabilités ?</li>
    <li>C'est plus rapide de jouer les tests d'un fichier que de tester
      l'application à la main&nbsp;: on réduit le temps de feedback.</li>
  </ul>
  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="unit-illus" class="slide cover h"><div>
<section>
  <header>
  <h2></h2>
  </header>
  <img src='pictures/parisweb-conf/tests-passed.png' class='middle' alt='tests
  passed… with bad tests' />
  <small class='credits'>
    <a href='https://twitter.com/bloerwald/status/448415935926255618'>Image par
    Bernd Lörwald</a>
  </small>
  <footer class="notes">
    Si les tests sont mal écrits, il testent n'importe quoi.
  </footer>
</section>
</div></div>

<div id="unit-3" class="slide"><div>
<section>
  <header>
  <h2>Des tests unitaires en JavaScript</h2>
  </header>

  <ul class='inline'>
    <li class='active'><a href='http://visionmedia.github.io/mocha/'>mocha</a></li>
    <li><a href='http://qunitjs.com/'>qunit</a></li>
    <li><a href="http://jasmine.github.io/">Jasmine</a></li>
    <li><a href='http://chaijs.com/'>chai</a></li>
    <li><a href='http://sinonjs.org/'>sinon</a></li>
  </ul>

  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="unit-4" class="slide"><div>
<section>
  <header>
  <h2>Étapes nécessaires</h2>
  </header>

  <ul class='inner'>
    <li class='active'>La première étape est d'écrire un premier test, même
      minimal</li>
    <li>Les premiers tests ont beaucoup de valeur</li>
    <li>Imposer l'écriture de tests pour les fichiers qui sont déjà testés.</li>
    <li>Il faut que quelqu'un prenne le temps d'écrire les premiers tests pour
      chaque fichier de l'application.</li>
  </ul>
</section>
</div></div>

<div id="fonctionnel" class="slide oneline"><div>
<section>
  <header>
    <h2>Tests fonctionnels</h2>
  </header>
</section>
</div></div>

<div id="fonctionnel2" class="slide"><div>
<section>
  <header>
    <h2>Tests fonctionnels</h2>
  </header>
  <ul class="inner">
    <li class="active">Teste un scénario d'usage</li>
    <li>Confiance que toutes les parties fonctionnent ensemble</li>
    <li>Mais plus lent à tourner</li>
    <li>Et ne donne pas la source du problème</li>
    <li>Se concentrer sur les scénarios les plus critiques</li>
  </ul>
  <footer class="notes">
    Remplace la recette du chef de projet
  </footer>
</section>
</div></div>


<div id="fonctionnel3" class="slide"><div>
<section>
  <header>
    <h2>Tests fonctionnels</h2>
  </header>
  <ul class="inner">
    <li class="active">Exemples : <a href="http://docs.seleniumhq.org/">Selenium</a>, <a href="http://phantomjs.org/">PhantomJS</a>, <a href="http://slimerjs.org/">SlimerJS</a>, <a href="http://casperjs.org/">CasperJS</a></li>
    <li>1<sup>re</sup> étape : Choisir un outil et écrire son premier test</li>
    <li>2<sup>e</sup> étape : Choisir les scénarios importants à tester</li>
  </ul>
  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="ci" class="slide oneline"><div>
<section>
  <header>
  <h2>Intégration continue</h2>
  </header>

  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="ci2" class="slide"><div>
<section>
  <header>
    <h2>Intégration continue</h2>
  </header>
  <ul class="inner">
    <li class="active">Faire tourner vos scripts à chaque commit</li>
    <li>Un humain peut le faire</li>
    <li>Mais une machine n'oubliera pas</li>
    <li>Et le fera toujours de la même manière</li>
  </ul>

  <footer class="notes">
    Même manière = proche de votre production = build déployable
  </footer>
</section>
</div></div>

<div id="ci3" class="slide"><div>
<section>
  <header>
    <h2>Intégration continue</h2>
  </header>
  <ul class="inner">
    <li class="active">Vous saurez exactement quand un problème apparait</li>
    <li>Vert&nbsp;: on bosse; Rouge&nbsp;: on corrige</li>
    <li>Peut générer de jolis graphiques à afficher au bureau</li>
    <li>On peut aussi faire tourner cela sur les patchs en cours</li>
  </ul>

  <footer class="notes">

  </footer>
</section>
</div></div>

<div id="ci4" class="slide"><div>
<section>
  <header>
    <h2>Intégration continue</h2>
  </header>
  <ul class="inner">
    <li class="active">Exemples : <a href="https://travis-ci.org/">Travis</a>, <a href="http://jenkins-ci.org/">Jenkins</a>, <a href="http://buildbot.net/">Build Bot</a></li>
    <li>1<sup>re</sup> étape : Avoir des scripts faciles à lancer à la main</li>
    <li>2<sup>e</sup> étape : Configurer un système pour lancer ces scripts</li>
  </ul>

  <footer class="notes">

  </footer>
</section>
</div></div>

<div id="styleguide" class="slide oneline"><div>
<section>
  <header>
    <h2>Générateur de <em>styleguide</em></h2>
  </header>

  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="styleguide2" class="slide cover"><div>
<section>
<img src="pictures/parisweb-conf/styledocco.png" class="middle">
</section>
</div></div>

<div id="styleguide3" class="slide"><div>
<section>
  <header>
    <h2>Générateur de <em>styleguide</em></h2>
  </header>

  <ul class="inner">
    <li class="active">Le pendant code des styleguide designer</li>
    <li>Permet de vérifier rapidement les changements</li>
    <li>HTML minimal pour utiliser un composant</li>
    <li>Rôle de documentation</li>
  </ul>
  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="styleguide4" class="slide"><div>
<section>
  <header>
    <h2>Générateur de <em>styleguide</em></h2>
  </header>

  <ul class="inner">
    <li class="active"><a href="http://vinspee.me/style-guide-guide/">Répertoire d'outils</a></li>
    <li>1<sup>re</sup> étape : Adopter lors d'un redesign de composant</li>
    <li>2<sup>e</sup> étape : Vérifier le guide lors des revues de code</li>
  </ul>
  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="ondemanddoc" class="slide oneline"><div>
<section>
  <header>
  <h2>Documentation au besoin</h2>
  </header>

  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="ondemanddoc2" class="slide"><div>
<section>
  <header>
  <h2>Documentation au besoin</h2>
  </header>
  <ul class="inner">
    <li class="active">Lorsqu'un problème survient, les messages d'erreur informent le développeur</li>
    <li>Si un script ne trouve pas un navigateur, il suggère comment indiquer le chemin vers le navigateur</li>
    <li>Si un script nécessite une librairie, il indique comment l'installer</li>
    <li>Utiliser la formation des nouveaux employés pour l'inspiration</li>
    <li><code style="font-size: 1rem">You should install gjslint to lint your patch</code>
    <code>https://developers.google.com/closure/utilities/docs/linter_howto</code>
    </li>
  </ul>
  <footer class="notes">
  Ne pas laisser le développeur dans un cul de sac
  </footer>
</section>
</div></div>

<div id="debt" class="slide oneline"><div>
<section>
  <header>
  <h2>Gestion de la dette technique</h2>
  </header>

  <footer class="notes">
  </footer>
</section>
</div></div>

<div id="debt2" class="slide"><div>
<section>
  <header>
  <h2>Gestion de la dette technique</h2>
  </header>

  <ul class="inner">
    <li class="active">Elle ne peut pas être de 0.</li>
    <li>C'est un investissement pour demain. On choisit une solution plus simple aujourd'hui car on ne connait pas les besoins de demain.</li>
    <li>Ce n'est pas de la paresse.</li>
    <li>Les réécritures sont plus efficaces si elles sont dans le cadre d'une fonctionnalité.</li>
  </ul>
  <footer class="notes">
  Paresse : Laissez trainer du code mort parce qu'on a fait un patch vite fait
  Refactoring : avec une fonctionnalité en tête, vous connaissez un peu mieux le futur
  </footer>
</section>
</div></div>

<div id="conclusion" class="slide oneline"><div>
<section>
  <header>
  <h2>En conclusion</h2>
  </header>

  <footer class="notes">
  Ce ne sont que quelques bonnes pratiques. Il y en a d'autres.
  </footer>
</section>
</div></div>

<div id="conclusion-2" class="slide oneline"><div>
<section>
  <header>
  <h2>Choisissez dès maintenant une pratique à mettre en place avant Halloween&nbsp;!</h2>
  </header>

  <footer class="notes">
  </footer>
</section>
</div></div>

  <div id="thanks" class="slide"><div>
    <section>
      <header>
        <h2>Thanks</h2>
      </header>
      <img src="pictures/mozillaoverview/redpanda.jpg" class="right" alt="Red panda (Firefox)">
      <ul class="nobull">
        <li>Julien Wajsberg, Anthony Ricaud</li>
        <li>Code de qualité: appliquer des bonnes pratiques dans le développement logiciel</li>
        <li><a href="http://twitter.com/jwajsberg">@jwajsberg</a> <a
                href="http://twitter.com/rik24d">@rik24d</a></li>
        <li><strong>Slides</strong>:
          <a href='http://julienw.github.io/parisweb-2014-bonnes-pratiques/html5/parisweb-2014-bonnes-pratiques.html'>http://julienw.github.io/parisweb-2014-bonnes-pratiques/html5/parisweb-2014-bonnes-pratiques.html</a></li>
      </ul>
      <small class="credits">
        <a href="http://www.flickr.com/photos/yortw/5798336827/">Photo by Yortw</a>
      </small>

    <footer class="notes">
    </footer>

    </section>
  </div></div>

  <!--
    To hide progress bar from entire presentation
    just remove “progress” element.
    -->
  <!-- <div class="progress"><div></div></div> -->
  <script src="scripts/script.js"></script>
  <!-- Copyright © 2010–2012 Vadim Makeev — pepelsbey.net -->
</body>
</html>
